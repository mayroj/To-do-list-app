!function(t){"use strict";function o(t){this.storage=t}o.prototype.create=function(t,o){o=o||function(){};var e={title:(t=t||"").trim(),completed:!1};this.storage.save(e,o)},o.prototype.read=function(t,o){var e=typeof t;if(o=o||function(){},"function"===e)return o=t,this.storage.findAll(o);"string"===e||"number"===e?(t=parseInt(t,10),this.storage.find({id:t},o)):this.storage.find(t,o)},o.prototype.update=function(t,o,e){this.storage.save(o,e,t)},o.prototype.remove=function(t,o){this.storage.remove(t,o)},o.prototype.removeAll=function(t){this.storage.drop(t)},o.prototype.getCount=function(o){var e={active:0,completed:0,total:0};this.storage.findAll(function(t){t.forEach(function(t){t.completed?e.completed++:e.active++,e.total++}),o(e)})},t.app=t.app||{},t.app.Model=o}(window);